<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self'; 
    script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; 
    style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; 
    img-src * data:;
    font-src 'self' https://cdnjs.cloudflare.com;
    connect-src 'self' https://formspree.io;
">
  <meta name="description" content="Portofolio Tresna Dhani - Data Scientist dengan keahlian AI, Computer Vision, dan Data Visualization">
  <meta name="keywords" content="data science, AI, computer vision, data visualization, portfolio">
  <meta name="author" content="Tresna Dhani">
  <title>Tresna Dhani - Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" xintegrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js" integrity="sha256-3IblG8F6FYk4i5oP5b41sI1yP371T2Jj_yeP313Cr8M=" crossorigin="anonymous"></script>
  <style>
    :root {
      --bg-0: #0b0b0c; --bg-1: #111214; --fg: #e9e9ea; --muted: #b5b5b7; --line: rgba(255, 255, 255, 0.08); --glass: rgba(255, 255, 255, 0.06); --glass-strong: rgba(255, 255, 255, 0.1); --radius: 22px; --shadow: 0 10px 30px rgba(0, 0, 0, 0.45), 0 2px 6px rgba(0, 0, 0, 0.35);
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { margin: 0; color: var(--fg); background: radial-gradient(1200px 600px at 80% -10%, rgba(255, 255, 255, 0.06), transparent 60%), radial-gradient(800px 400px at 10% 20%, rgba(255, 255, 255, 0.04), transparent 60%), linear-gradient(180deg, var(--bg-0), var(--bg-1)); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial; line-height: 1.65; }
    a { color: inherit; text-decoration: none; }
    .nav-wrap { position: sticky; top: 14px; z-index: 1000; display: flex; justify-content: center; padding: 0 16px; }
    nav { display: flex; gap: 6px; align-items: center; padding: 10px; backdrop-filter: blur(14px); background: var(--glass); border: 1px solid var(--line); border-radius: 999px; box-shadow: var(--shadow); }
    .brand { font-weight: 700; letter-spacing: 0.2px; padding: 0.4rem 0.9rem; border-radius: 999px; border: 1px solid var(--line); background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02)); }
    .menu { display: flex; gap: 4px; margin-left: 6px; }
    .menu a { position: relative; padding: 0.55rem 0.95rem; border-radius: 999px; border: 1px solid transparent; }
    .menu a::after { content: ""; position: absolute; left: 12px; right: 12px; bottom: 8px; height: 2px; border-radius: 2px; transform: scaleX(0); transform-origin: left; transition: transform 0.35s ease; background: rgba(255, 255, 255, 0.35); }
    .menu a:hover { background: var(--glass-strong); border-color: var(--line); }
    .menu a:hover::after { transform: scaleX(1); }
    .hero { min-height: 86vh; display: grid; place-items: center; padding: 96px 20px 40px; position: relative; overflow: hidden; }
    .hero-inner { max-width: 1080px; width: 100%; display: grid; grid-template-columns: 1fr; gap: 28px; justify-items: center; text-align: center; position: relative; z-index: 2; }
    #moon-canvas { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -30%); width: min(800px, 120vw); height: min(800px, 120vw); border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.08), rgba(0, 0, 0, 0)); outline: 1px solid var(--line); box-shadow: 0 40px 120px rgba(0, 0, 0, 0.65), inset 0 0 80px rgba(255, 255, 255, 0.02); z-index: 1; opacity: 0.2; }
    .title { font-size: clamp(28px, 5vw, 56px); font-weight: 800; letter-spacing: 0.2px; margin: 4px 0; }
    .subtitle { font-size: clamp(16px, 2.4vw, 22px); color: var(--muted); min-height: 28px; }
    .tagline { font-size: clamp(14px, 2vw, 18px); opacity: 0.9; border: 1px solid var(--line); padding: 0.6rem 1rem; border-radius: 999px; background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02)); }
    section { padding: 64px 20px; }
    .container { max-width: 1100px; margin: 0 auto; }
    .grid { display: grid; gap: 18px; }
    .grid.cols-4 { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
    .grid.cols-3 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .grid.cols-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .card { background: var(--glass); border: 1px solid var(--line); border-radius: var(--radius); padding: 22px; box-shadow: var(--shadow); transition: transform 0.25s ease, background 0.25s ease, border-color 0.25s ease; }
    .card:hover { transform: translateY(-4px); background: rgba(255, 255, 255, 0.08); border-color: rgba(255, 255, 255, 0.12); }
    .card h3 { margin: 0.2rem 0 0.4rem; font-size: 1.05rem; }
    .muted { color: var(--muted); }
    .tools-grid { display: flex; flex-wrap: wrap; gap: 8px; margin: 12px 0; }
    .tool-icon-wrapper { position: relative; display: inline-block; }
    .tool-icon { width: 32px; height: 32px; border-radius: 6px; background: var(--glass); border: 1px solid var(--line); padding: 4px; transition: all 0.2s ease; display: block; }
    .tool-icon-wrapper:hover .tool-icon { background: var(--glass-strong); transform: scale(1.1); }
    .tool-icon-wrapper::before { content: attr(data-tooltip); position: absolute; bottom: 125%; left: 50%; transform: translateX(-50%) translateY(10px); background: var(--bg-1); color: var(--fg); padding: 6px 12px; border-radius: 8px; font-size: 0.8rem; font-weight: 500; white-space: nowrap; box-shadow: var(--shadow); border: 1px solid var(--line); opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.2s ease, transform 0.2s ease; z-index: 10; }
    .tool-icon-wrapper::after { content: ''; position: absolute; bottom: 125%; margin-bottom: -5px; left: 50%; transform: translateX(-50%) translateY(10px); border: 5px solid transparent; border-top-color: var(--bg-1); opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.2s ease, transform 0.2s ease; z-index: 10; }
    .tool-icon-wrapper:hover::before, .tool-icon-wrapper:hover::after { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
    .card-button { display: inline-flex; align-items: center; gap: 6px; margin-top: 12px; padding: 8px 16px; background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02)); border: 1px solid var(--line); border-radius: 999px; font-size: 0.9rem; transition: all 0.25s ease; cursor: pointer; }
    .card-button:hover { background: var(--glass-strong); border-color: rgba(255, 255, 255, 0.15); transform: translateY(-1px); }
    .card-button i { font-size: 0.8rem; }
    .section-title { display: flex; align-items: center; gap: 10px; margin: 0 0 18px; font-size: 1.2rem; font-weight: 700; }
    .section-title .dot { width: 9px; height: 9px; border-radius: 50%; background: rgba(255, 255, 255, 0.35); box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.06); }
    .contact-form { display: flex; flex-direction: column; gap: 12px; }
    .contact-form label { font-weight: 600; margin-bottom: 4px; }
    .contact-form input, .contact-form textarea { padding: 10px; border-radius: 10px; border: 1px solid var(--line); background: rgba(255, 255, 255, 0.05); color: var(--fg); font-size: 1rem; }
    .contact-form input:focus, .contact-form textarea:focus { outline: none; border-color: rgba(255, 255, 255, 0.25); background: rgba(255, 255, 255, 0.1); }
    .contact-form button { padding: 12px; border: none; border-radius: 999px; background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02)); color: var(--fg); font-weight: bold; cursor: pointer; transition: background 0.3s ease; }
    .contact-form button:hover { background: rgba(255, 255, 255, 0.15); }
    footer { padding: 48px 20px 80px; border-top: 1px solid var(--line); background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0)); text-align: center; color: var(--muted); }
     .reveal-on-scroll { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; will-change: opacity, transform; }
    .reveal-on-scroll.active { opacity: 1; transform: translateY(0); }
  </style>
</head>
<body>
  <div class="nav-wrap">
    <nav aria-label="Navigasi utama" class="glass">
      <div class="brand">TD</div>
      <div class="menu" role="menubar">
        <a role="menuitem" href="#keahlian">Keahlian</a>
        <a role="menuitem" href="#project">Project</a>
        <a role="menuitem" href="#portofolio">Portofolio</a>
        <a role="menuitem" href="#kontak">Kontak</a>
      </div>
    </nav>
  </div>

  <header class="hero" id="home">
    <canvas id="moon-canvas" aria-label="Ikon 3D bulan"></canvas>
    <div class="hero-inner">
      <h1 class="title">Hai, saya Tresna Dhani</h1>
      <p class="subtitle" id="typing"></p>
      <div class="tagline">Data Scientist dengan passion AI & Data Visualization</div>
    </div>
  </header>

  <section id="keahlian" class="reveal-on-scroll">
    <div class="container">
      <h2 class="section-title"><span class="dot"></span> Keahlian</h2>
      <div class="grid cols-4">
        <article class="card">
          <h3>Analisis Data</h3>
          <p class="muted">Eksplorasi, pembersihan, dan visualisasi data untuk mendapatkan insight.</p>
          <div class="tools-grid">
            <div class="tool-icon-wrapper" data-tooltip="Python">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Pandas">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pandas/pandas-original.svg" alt="Pandas" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="NumPy">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/numpy/numpy-original.svg" alt="NumPy" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Scikit-learn">
              <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Scikit_learn_logo_small.svg" alt="Scikit-learn" class="tool-icon" />
            </div>
          </div>
        </article>
        <article class="card">
          <h3>Machine Learning</h3>
          <p class="muted">Model klasifikasi, regresi, dan clustering dengan fokus pada interpretabilitas.</p>
          <div class="tools-grid">
            <div class="tool-icon-wrapper" data-tooltip="TensorFlow">
              <img src="https://www.vectorlogo.zone/logos/tensorflow/tensorflow-icon.svg" alt="TensorFlow" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="PyTorch">
              <img src="https://www.vectorlogo.zone/logos/pytorch/pytorch-icon.svg" alt="PyTorch" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Scikit-learn">
              <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Scikit_learn_logo_small.svg" alt="Scikit-learn" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Jupyter">
              <img src="https://www.vectorlogo.zone/logos/jupyter/jupyter-icon.svg" alt="Jupyter" class="tool-icon" />
            </div>
          </div>
        </article>
        <article class="card">
          <h3>Data Visualization</h3>
          <p class="muted">Dashboard interaktif dan narasi data yang minimalis.</p>
          <div class="tools-grid">
            <div class="tool-icon-wrapper" data-tooltip="D3.js">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/d3js/d3js-original.svg" alt="D3.js" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Plotly">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/plotly/plotly-original.svg" alt="Plotly" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Seaborn">
              <img src="https://seaborn.pydata.org/_images/logo-mark-lightbg.svg" alt="Seaborn" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Matplotlib">
              <img src="https://upload.wikimedia.org/wikipedia/commons/8/84/Matplotlib_icon.svg" alt="Matplotlib" class="tool-icon" />
            </div>
          </div>
        </article>
        <article class="card">
          <h3>Big Data & Cloud</h3>
          <p class="muted">Pengolahan data skala besar dan deployment di cloud platform.</p>
          <div class="tools-grid">
            <div class="tool-icon-wrapper" data-tooltip="Spark">
              <img src="https://www.vectorlogo.zone/logos/apache_spark/apache_spark-icon.svg" alt="Spark" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Hadoop">
              <img src="https://www.vectorlogo.zone/logos/apache_hadoop/apache_hadoop-icon.svg" alt="Hadoop" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="AWS">
              <img src="https://www.vectorlogo.zone/logos/amazon_aws/amazon_aws-icon.svg" alt="AWS" class="tool-icon" />
            </div>
            <div class="tool-icon-wrapper" data-tooltip="Google Cloud">
              <img src="https://www.vectorlogo.zone/logos/google_cloud/google_cloud-icon.svg" alt="Google Cloud" class="tool-icon" />
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <section id="project" class="reveal-on-scroll">
    <div class="container">
      <h2 class="section-title"><span class="dot"></span> Project</h2>
      <div class="grid cols-2" id="project-grid">
        <!-- Card proyek akan dibuat secara otomatis oleh JavaScript -->
      </div>
    </div>
  </section>

  <section id="portofolio" class="reveal-on-scroll">
    <div class="container">
      <h2 class="section-title"><span class="dot"></span> Portofolio</h2>
      <div class="grid cols-3" id="portfolio-grid">
        <!-- Card portofolio akan dibuat secara otomatis oleh JavaScript -->
      </div>
    </div>
  </section>

  <section id="kontak" class="reveal-on-scroll">
    <div class="container">
      <h2 class="section-title"><span class="dot"></span> Kontak</h2>
      <div class="card">
        <form action="https://formspree.io/f/mldwjkqw" method="POST" class="contact-form">
          <label for="nama">Nama</label>
          <input type="text" id="nama" name="nama" placeholder="Masukkan nama Anda" required minlength="3" />
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="Masukkan email Anda" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" />
          <label for="pesan">Pesan</label>
          <textarea id="pesan" name="pesan" rows="5" placeholder="Tulis pesan Anda..." required minlength="10"></textarea>
          <button type="submit">Kirim Pesan</button>
        </form>
      </div>
    </div>
  </section>
  <footer class="reveal-on-scroll">Â© <span id="year"></span> Tresna Dhani.</footer>

  <!-- FIX: Corrected script path to be relative to root -->
  <script src="portfolio_&_project_data.js"></script>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
    const texts = [
      "Mengungkap pola dari data.", "Mendukung keputusan dengan data.", "Membangun model AI bermanfaat.", "Menyederhanakan data kompleks.", "Mengubah data jadi strategi nyata.", "Memprediksi tren dengan data.", "Memberi insight untuk inovasi.", "Menggabungkan data dan kreativitas.", "Otomatisasi analisis yang efisien.", "Menceritakan data lewat visualisasi."
    ];
    let i = 0, j = 0, current = "", isDeleting = false;
    const speed = 50;
    const target = document.getElementById("typing");
    function type() {
      current = texts[i];
      if (!isDeleting) { target.textContent = current.substring(0, j + 1); j++; if (j === current.length) { isDeleting = true; setTimeout(type, 800); return; } } else { target.textContent = current.substring(0, j - 1); j--; if (j === 0) { isDeleting = false; i = (i + 1) % texts.length; } }
      setTimeout(type, isDeleting ? speed / 2 : speed);
    }
    type();
    (function () {
      if (typeof THREE === 'undefined') return;
      const canvas = document.getElementById("moon-canvas"); const scene = new THREE.Scene(); const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true }); const DPR = Math.min(window.devicePixelRatio || 1, 2); function resize() { const size = Math.min(window.innerWidth * 1.2, 800); const w = Math.max(400, size), h = w; renderer.setSize(w, h, false); renderer.setPixelRatio(DPR); camera.aspect = w / h; camera.updateProjectionMatrix(); }
      const camera = new THREE.PerspectiveCamera(32, 1, 0.1, 100); camera.position.z = 3.4; const key = new THREE.DirectionalLight(0xffffff, 1.1); key.position.set(2, 1.2, 2); const rim = new THREE.DirectionalLight(0xffffff, 0.6); rim.position.set(-2, -0.2, -1.5); const ambient = new THREE.AmbientLight(0xffffff, 0.25); scene.add(key, rim, ambient); const geometry = new THREE.SphereGeometry(1, 128, 128); const material = new THREE.MeshStandardMaterial({ color: 0xdddddd, roughness: 0.95, metalness: 0.0 }); const moon = new THREE.Mesh(geometry, material); scene.add(moon); let t = 0; function animate() { t += 0.005; moon.rotation.y += 0.0025; moon.rotation.x = Math.sin(t) * 0.02; renderer.render(scene, camera); requestAnimationFrame(animate); }
      window.addEventListener("resize", resize, { passive: true }); resize(); animate();
    })();
    const contactForm = document.querySelector('.contact-form');
    if (contactForm) {
      contactForm.addEventListener('submit', function(e) {
        e.preventDefault(); const form = e.target; const submitButton = form.querySelector('button'); const data = new FormData(form); submitButton.disabled = true; submitButton.textContent = 'Mengirim...';
        fetch(form.action, { method: form.method, body: data, headers: { 'Accept': 'application/json' } }).then(response => {
          if (response.ok) { submitButton.textContent = 'Terkirim!'; form.reset(); setTimeout(() => { submitButton.textContent = 'Kirim Pesan'; submitButton.disabled = false; }, 2000); } else { submitButton.textContent = 'Gagal, Coba Lagi'; submitButton.disabled = false; setTimeout(() => { submitButton.textContent = 'Kirim Pesan'; }, 2000); }
        }).catch(error => { console.error('Form submission error:', error); submitButton.textContent = 'Error Jaringan'; submitButton.disabled = false; setTimeout(() => { submitButton.textContent = 'Kirim Pesan'; }, 2000); });
      });
    }
    const observer = new IntersectionObserver((entries) => { entries.forEach((entry) => { if (entry.isIntersecting) { entry.target.classList.add('active'); } }); }, { threshold: 0.1 });
    const elementsToReveal = document.querySelectorAll('.reveal-on-scroll'); elementsToReveal.forEach((el) => observer.observe(el));

    // --- Skrip untuk membuat card dinamis ---
    function createPortfolioCards() {
        const portfolioGrid = document.getElementById('portfolio-grid');
        if (portfolioGrid && typeof portfolioData !== 'undefined') {
            portfolioData.forEach(item => {
                const card = document.createElement('article');
                card.className = 'card';
                card.innerHTML = `
                    <h3>${item.title}</h3>
                    <p class="muted">${item.shortDescription}</p>
                    <!-- FIX: Corrected path for portfolio detail -->
                    <a href="portofolio_detail_template.html?id=${item.id}" class="card-button">
                        <i class="fas fa-certificate"></i> Lihat Detail
                    </a>
                `;
                portfolioGrid.appendChild(card);
            });
        }
    }

    function createProjectCards() {
        const projectGrid = document.getElementById('project-grid');
        if (projectGrid && typeof projectData !== 'undefined') {
            projectData.forEach(item => {
                const card = document.createElement('article');
                card.className = 'card';
                card.innerHTML = `
                    <h3>${item.title}</h3>
                    <p class="muted">${item.shortDescription}</p>
                    <!-- FIX: Corrected path for project detail -->
                    <a href="project_detail_template.html?id=${item.id}" class="card-button">
                        <i class="fas fa-external-link-alt"></i> Lihat Project
                    </a>
                `;
                projectGrid.appendChild(card);
            });
        }
    }
    
    createPortfolioCards();
    createProjectCards();
  </script>
</body>
</html>